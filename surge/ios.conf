# 你可以从该 URL 下载这个配置文件: http://surge.run/config-example/ios.conf
# 用编辑器编辑后，再通过 iTunes, URL, AirDrop 或者 iCloud Drive 复制回 iOS 设备
# Version 2.0

[General]
# 日志等级: warning, notify, info, verbose (默认值: notify)
loglevel = notify
# 跳过某个域名或者 IP 段，这些目标主机将不会由 Surge Proxy 处理。(在 macOS 
# 版本中，如果启用了 Set as System Proxy,  那么这些值会被写入到系统网络代理
# 设置中.)
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local
# 强制使用特定的 DNS 服务器
dns-server = 8.8.8.8, 8.8.4.4
# 允许外部控制器访问 Surge， 如 Surge-CLI。
external-controller-access = yidong@127.0.0.1:8888

# 以下参数仅供 iOS 版本使用
# 将系统相关请求交给 Surge TUN 处理，并自动追加规则 
# "IP-CIDR,17.0.0.0/8,DIRECT,no-resolve"
bypass-system = true
# 将特定 IP 段跳过 Surge TUN，详见 Manual
bypass-tun = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# 是否截取并保存 HTTP 流量 (启用后将对性能有较大影响) (默认值: false)
replica = false
# 是否启动完整的 IPv6 支持 (默认值: false)
ipv6 = false

# 以下参数仅供 macOS 版本使用
# 监听地址 (默认值: 127.0.0.1)
interface = 0.0.0.0
# HTTP 服务端口 (默认值: 6152)
port = 6152
# SOCKS5 服务端口 (默认值: 6153)
socks-port = 6153

# 该段定义可用的代理策略
# 针对所有类型代理的选项:
#   interface: 可选 (默认值: null)
#   强制使用特定的出口地址或网络设备 (仅 macOS 版可用)
#   例如: ProxyHTTP = http, 1.2.3.4, 443, username, password, interface = en2
#        en1 = direct, interface = en1
# 针对启用了 TLS 的代理的选项:
#   skip-common-name-verify: "true" 或 "false" (默认值: false)
#   如果启动该选择, Surge 不会校验证书名是否符合.
[Proxy]
tza = https, taz.zhangyidong.com, 443, username=zhangyd, password=yidong

# 该段定义可用的策略组
# 一个策略组可以包括多个子策略. 
# 子策略可以是一个代理策略，或者另一个策略组，或者是一个内置策略 (DIRECT 或 REJECT).
# 有 3 种策略组类型: "select", "url-test" 和 "ssid"
# select: 具体哪个子策略将被使用，由用户界面上进行选择。
# url-test: 具体哪个子策略将被使用，通过测试到具体 URL 的访问速度选择
#   参数:
#   url: 必填
#   测试时用到的目标 URL.
#   interval: 可选, 秒 (默认值: 600s)
#   指定在多长时间后，上次的测试结果将被抛弃。
#   tolerance: 可选, 毫秒 (默认值: 100ms)
#   只有当新的优选线路，比原优选线路的响应时间，大于该值的时候，才会触发线路变更。
#   timeout: 可选, 秒 (默认值: 5s)
#   如果某策略在该时间后依然没有完成，放弃该策略。
# ssid: 具体哪个子策略将被使用，根据 Wi-FI 的 SSID 决定
#   参数:
#   default: 必填
#   默认策略。
#   cellular: 可选
#   在数据网络下的策略。 若不填，那么默认策略将被使用。
[Proxy Group]
SelectGroup = select, tza, DIRECT, REJECT
AutoTestGroup = url-test, tza, url = http://www.google.com/generate_204

# 该段定义请求处理规则
# 一个规则有三个基础部分:
#          类型,          值,            策略
# 比如:     DOMAIN-SUFFIX,apple.com,     DIRECT
#          IP-CIDR,      192.168.0.0/16,ProxyA
# 有 3 种基于域名的规则: "DOMAIN", "DOMAIN-SUFFIX" 和 "DOMAIN-KEYWORD"
#   参数:
#   force-remote-dns: 可选 (默认值: false)
#   如果某请求被该规则匹配, 且策略不是DIRECT. 那么 DNS 查询将永远在远端代理服务
#   器执行, 即使该请求由 Surge TUN 处理. 
#   更多信息请参见手册.
# 有 2 种基于 IP 的规则: "IP-CIDR" and "GEOIP".
# 如果是一个使用域名进行访问的请求，那么 Surge 将进行 DNS 查询以确认是否应该被
# 该规则匹配. 若 DNS 查询失败，将放弃规则匹配过程并直接给出错误。
#   OPTIONS:
#   no-resolve: 可选 (默认值: false)
#   如果是一个使用域名进行访问的请求，跳过该条规则，不触发 DNS 查询。
[Rule]
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/blocked.list,SelectGroup
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/cn.list,DIRECT
DOMAIN,apps.apple.com,SelectGroup
DOMAIN-SUFFIX,ls.apple.com,DIRECT // Apple Maps
DOMAIN-SUFFIX,store.apple.com,DIRECT // Apple Store Online
RULE-SET,SYSTEM,SelectGroup
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/apple.list,SelectGroup
# 以下规则将触发本地 DNS 解析
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT
FINAL,SelectGroup,dns-failed

[MITM]
ca-passphrase = C640D854
ca-p12 = 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
